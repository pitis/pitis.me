---
import Layout from '../layouts/Layout.astro'
import NavDots from '../components/NavDots.astro'
import HeaderIntro from '../components/HeaderIntro.astro'
import WorkSection from '../components/WorkSection.astro'
import ThoughtsSection from '../components/ThoughtsSection.astro'
import ConnectSection from '../components/ConnectSection.astro'
import Footer from '../components/Footer.astro'
---

<Layout>
  <NavDots />
  <main class='max-w-4xl mx-auto px-6 sm:px-8 lg:px-16'>
    <HeaderIntro />
    <WorkSection />
    <ThoughtsSection />
    <ConnectSection />
    <Footer />
  </main>
</Layout>

<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting)
          entry.target.classList.add('animate-fade-in-up')
      })
    },
    { threshold: 0.3, rootMargin: '0px 0px -20% 0px' }
  )
  document
    .querySelectorAll('header, section')
    .forEach((section) => observer.observe(section))
</script>
